<% content_for :title, "Login" %>
<% content_for :meta_descriptions, "Login to your Fotobook account"%>
<% content_for :meta_keywords, "login"%>

<div class="auth-form-container d-flex">
<section class="card m-auto d-flex flex-column">
    <h1 class="card-header text-center"><%= "#{t('nav.app_name')} #{t('button.login')}" %></h1>
    <div class="card-body d-flex align-items-center justify-content-center flex-column">
        <!-- TODO: Login via third parties-->
        <div class="social-login d-flex gap-5 justify-content-center mb-4">
            <a href="#", title="<%= t('profile.login_with', app: "Google") %>">
                <%= image_tag "google.png",alt: "Google logo" %>
            </a>

            <a href="#", title="<%= t('profile.login_with', app: "Facebook") %>">
                <%= image_tag "facebook.png", alt: "Facebook logo" %>
            </a>

            <a href="#", title="<%= t('profile.login_with', app: "Twitter") %>">
                <%= image_tag "twitter.png", alt: "Twitter logo" %>
            </a>
        </div>

        <div class="d-flex align-items-center my-4">
            <hr class="flex-grow-1">
            <p class="mx-3 text-muted text-uppercase fw-medium">
                <%= t('profile.or')%>
            </p>
            <hr class="flex-grow-1">
        </div>
        
        
        <!-- TODO: handle form-->
        <%= form_with url: handle_login_path, method: :post, class: "auth-form d-flex flex-column gap-3" do |f| %>
            <div class="d-flex flex-column">
                <%= f.label :email, t('profile.email') %>
                <%= f.email_field :email, placeholder: t('profile.email'), maxlength: 25, autocomplete: "username", autofocus: true, require: true %>
            </div>
            <div data-controller="form" class="d-flex flex-column">
                <%= f.label :current_password, t('profile.pw') %>
                <div class="pw-field">
                    <%= f.password_field :current_password, placeholder: t('profile.pw'), maxlength: 64, autocomplete: "current-password",
                         data: { form_target: "pwField" }, require: true %>
                    <i class="fa-solid fa-eye togglePw" data-action="click->form#togglePw" data-form-target="eyeIcon"></i>
                </div>
            </div>
            
            <%= f.submit t('button.login'), class: "m-auto custom-primary-btn" %>
        <% end %>

        <div class="mt-3 text-center">
            <%= link_to t('profile.forgot_pw'), forgot_pw_path, class: "custom-link" %>
            <p>
                <%= t('message.not_have_acc')%>
                <span><%= link_to t('profile.create_acc'), new_user_path, class: "custom-link" %></span>
            </p>
        </div>
        
    </div>
</section>
 
</div>
<%= content_for :title, t('sidebar.mng_albums') %>

<section class="m-5 mt-3">
    <h1 class="text-center"><%= t('sidebar.mng_albums') %></h1>

    <div class="w-100 d-flex flex-wrap justify-content-center my-5 gap-md-5 gap-3">
        <% @albums.each do |album| %>
          <div class="album-card p-4">
            <div class="photo-stack">
                <%= link_to album_path(album), data: { turbo_frame: "albumModal" } do %>
                <%= image_tag album.photos.first.image_path.url, alt: t('button.photo', count: 1), class: "photo-image z-1 layer1" %>
                <%= image_tag album.photos.first.image_path.url, alt: t('button.photo', count: 1), class: "photo-image z-2 layer2" %>
                <%= image_tag album.photos.first.image_path.url, alt: t('button.photo', count: 1), class: "photo-image z-3 layer3" %>
                <%end%>
            </div>

            <div class="title-container d-flex flex-nowrap">
                <p class="m-0 truncate card-title"><%= album.title %></p>
                <span class="ms-auto">
                    <%= link_to edit_admin_album_path(album) do %>
                        <i class="fa-solid fa-pen-to-square fa-lg" title="<%= t('button.edit') %>"></i>
                    <% end %>
                </span>
            </div>        
          </div>
        <% end %>
    </div>

    <div class="d-flex mt-5 px-3 w-100 justify-content-center">
        <%= paginate @albums, window: 2 %>
    </div>

</section>
<aside class="custom-sidebar d-none d-lg-flex align-items-center justify-content-center <%= user_signed_in? ? "" : "welcome"%>" id="sidebar">    
    <!-- TODO Guest has no option, change if to unless-->

    <div class="offcanvas-body">
        <%if user_signed_in?%>
            <nav class="nav flex-column">
                <!-- TODO: Authorization-->
            <% if current_user.is_admin %>        
                <a class="nav-link <%= highlight_active_tab("photos") %>sidebar-link" href="#">
                    <i class="fa-solid fa-images me-2"></i>
                    <%= t('sidebar.mng_photos')%>
                </a>
                <a class="nav-link <%= highlight_active_tab("albums") %> sidebar-link" href="#">
                    <i class="fa-solid fa-folder me-2"></i>
                    <%= t('sidebar.mng_albums')%>
                </a>
                <%= link_to admin_users_path, class: "sidebar-link #{highlight_active_tab("users")}" do %>
                    <i class="fa-solid fa-users me-2"></i>
                    <%= t('sidebar.mng_users')%>
                <% end %>

            <%else%>
                <%= link_to user_tab_photos_path(current_user.id, "feeds"), class: "nav-link sidebar-link #{highlight_active_tab("feeds")}" do %>
                    <i class="fa-solid fa-house me-2"></i>
                    <%= t('sidebar.feeds')%>
                <% end %>
                <%= link_to user_tab_photos_path(current_user.id, "discover"), class: "nav-link sidebar-link #{highlight_active_tab("discover")}" do %>
                    <i class="fa-solid fa-compass me-2"></i>
                    <%= t('sidebar.discover')%>
                <%end%>
            <% end%>
            </nav>
        <%end%>
    </div>
</aside>

<!-- RESPONSIVE MODE -->
<button class="sidebar-toggle-btn d-lg-none" data-bs-toggle="offcanvas" data-bs-target="#sidebar-offcanvas" aria-controls="sidebar-offcanvas" title="<%= t('button.toggle_sidebar')%>">
    <i class="fa-regular fa-square-caret-right"></i>
</button>

<aside class="offcanvas offcanvas-start offcanvas-lg custom-sidebar responsive d-lg-none" id="sidebar-offcanvas"
        data-controller="sidebar" data-sidebar-target="sidebar">
    <div class="offcanvas-header">
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    
    <div class="offcanvas-body">
        <%if user_signed_in?%>
            <nav class="nav flex-column">
                <!-- TODO: Authorization-->
            <% if current_user.is_admin %>        
                <a class="nav-link <%= highlight_active_tab("photos") %>sidebar-link" href="#">
                    <i class="fa-solid fa-images me-2"></i>
                    <%= t('sidebar.mng_photos')%>
                </a>
                <a class="nav-link <%= highlight_active_tab("albums") %> sidebar-link" href="#">
                    <i class="fa-solid fa-folder me-2"></i>
                    <%= t('sidebar.mng_albums')%>
                </a>
                <%= link_to admin_users_path, class: "sidebar-link #{highlight_active_tab("users")}" do %>
                    <i class="fa-solid fa-users me-2"></i>
                    <%= t('sidebar.mng_users')%>
                <% end %>

            <%else%>
                <%= link_to user_tab_photos_path(current_user.id, "feeds"), class: "nav-link sidebar-link #{highlight_active_tab("feeds")}" do %>
                    <i class="fa-solid fa-house me-2"></i>
                    <%= t('sidebar.feeds')%>
                <% end %>
                <%= link_to user_tab_photos_path(current_user.id, "discover"), class: "nav-link sidebar-link #{highlight_active_tab("discover")}" do %>
                    <i class="fa-solid fa-compass me-2"></i>
                    <%= t('sidebar.discover')%>
                <%end%>
            <% end%>
            </nav>
        <%end%>
    </div>
</aside>